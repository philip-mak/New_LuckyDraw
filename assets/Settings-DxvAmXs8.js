import{d as e,u as t,e as a,r as l,c as s,a as n,h as c,i as r,j as o,t as i,k as d,q as u,o as p}from"./index-DqPITbDs.js";import{u as b}from"./settings-C8Vgz-AL.js";const m={class:"min-h-screen bg-gray-50"},g={class:"bg-white shadow-sm border-b border-gray-200"},x={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},f={class:"flex justify-between items-center py-4"},y={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},h={class:"card p-6 mb-6"},v={class:"space-y-4"},k={class:"block text-sm font-medium text-gray-700 mb-2"},w=["value"],S={class:"flex items-center"},C=["checked"],j={class:"flex items-center"},D=["checked"],P={class:"flex items-center"},z=["checked"],I={class:"card p-6 mb-6"},A={class:"space-y-4"},O=["value"],R=["value"],L={class:"card p-6"},U={class:"space-y-4"},_={class:"border-t pt-4"},E={class:"flex gap-2 flex-wrap"},N=e({__name:"Settings",setup(e){const N=t(),J=a(),T=b(),{settings:W,updateSetting:q,resetSettings:B}=T,F=l(null),$=()=>{const e={participants:N.participants,prizes:J.prizes,settings:W,exportDate:(new Date).toISOString()},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=window.URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`lucky-draw-data-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(a)},G=()=>{var e;null==(e=F.value)||e.click()},H=e=>{var t;const a=null==(t=e.target.files)?void 0:t[0];if(a&&"application/json"===a.type){const e=new FileReader;e.onload=e=>{var t;try{const a=JSON.parse(null==(t=e.target)?void 0:t.result);a.participants&&(N.clearAllParticipants(),N.addParticipants(a.participants)),a.prizes&&(J.clearAllPrizes(),a.prizes.forEach(e=>J.addPrize(e))),a.settings&&Object.entries(a.settings).forEach(([e,t])=>{q(e,t)}),alert("è³‡æ–™åŒ¯å…¥æˆåŠŸï¼")}catch(a){alert("åŒ¯å…¥è³‡æ–™æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹æª¢æŸ¥æª”æ¡ˆæ ¼å¼ã€‚")}},e.readAsText(a)}},K=()=>{confirm("æ‚¨ç¢ºå®šè¦ç§»é™¤æ‰€æœ‰åƒèˆ‡è€…å—ï¼Ÿ")&&N.clearAllParticipants()},M=()=>{confirm("æ‚¨ç¢ºå®šè¦ç§»é™¤æ‰€æœ‰çå“å—ï¼Ÿ")&&J.clearAllPrizes()},Q=()=>{confirm("æ‚¨ç¢ºå®šè¦é‡è¨­æ‰€æœ‰å…§å®¹å—ï¼Ÿé€™å°‡ç§»é™¤æ‰€æœ‰è³‡æ–™ä¸”ç„¡æ³•å¾©åŸã€‚")&&(N.clearAllParticipants(),J.clearAllPrizes(),B())};return(e,t)=>{const a=o("router-link");return p(),s("div",m,[n("header",g,[n("div",x,[n("div",f,[t[8]||(t[8]=n("h1",{class:"text-2xl font-bold text-gray-900"},"âš™ï¸ è¨­å®š",-1)),c(a,{to:"/",class:"btn-secondary"},{default:r(()=>[...t[7]||(t[7]=[u("â† è¿”å›é¦–é ",-1)])]),_:1})])])]),n("main",y,[n("div",h,[t[13]||(t[13]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"æŠ½çå‹•ç•«è¨­å®š",-1)),n("div",v,[n("div",null,[n("label",k," å‹•ç•«æŒçºŒæ™‚é–“: "+i(d(W).animationDuration/1e3)+" ç§’ ",1),n("input",{value:d(W).animationDuration,onInput:t[0]||(t[0]=e=>d(q)("animationDuration",Number(e.target.value))),type:"range",min:"1000",max:"10000",step:"500",class:"w-full"},null,40,w),t[9]||(t[9]=n("div",{class:"flex justify-between text-xs text-gray-500 mt-1"},[n("span",null,"1ç§’ (å¿«)"),n("span",null,"10ç§’ (æ…¢)")],-1))]),n("div",S,[n("input",{checked:d(W).showParticipantInfo,onChange:t[1]||(t[1]=e=>d(q)("showParticipantInfo",e.target.checked)),type:"checkbox",id:"showInfo",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,C),t[10]||(t[10]=n("label",{for:"showInfo",class:"ml-2 block text-sm text-gray-900"}," åœ¨å¡ç‰‡ä¸Šé¡¯ç¤ºåƒèˆ‡è€…è©³ç´°è³‡è¨Š ",-1))]),n("div",j,[n("input",{checked:d(W).enableSounds,onChange:t[2]||(t[2]=e=>d(q)("enableSounds",e.target.checked)),type:"checkbox",id:"enableSounds",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,D),t[11]||(t[11]=n("label",{for:"enableSounds",class:"ml-2 block text-sm text-gray-900"}," å•Ÿç”¨éŸ³æ•ˆ ",-1))]),n("div",P,[n("input",{checked:d(W).allowDuplicateWinners,onChange:t[3]||(t[3]=e=>d(q)("allowDuplicateWinners",e.target.checked)),type:"checkbox",id:"allowDuplicates",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,z),t[12]||(t[12]=n("label",{for:"allowDuplicates",class:"ml-2 block text-sm text-gray-900"}," å…è¨±åŒä¸€äººå¤šæ¬¡ç²ç ",-1))])])]),n("div",I,[t[18]||(t[18]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"å¤–è§€",-1)),n("div",A,[n("div",null,[t[15]||(t[15]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"ä¸»é¡Œ",-1)),n("select",{value:d(W).theme,onChange:t[4]||(t[4]=e=>d(q)("theme",e.target.value)),class:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[14]||(t[14]=[n("option",{value:"light"},"æ·ºè‰²",-1),n("option",{value:"dark"},"æ·±è‰²",-1)])],40,O)]),n("div",null,[t[17]||(t[17]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"å¡ç‰‡æ¨£å¼",-1)),n("select",{value:d(W).cardStyle,onChange:t[5]||(t[5]=e=>d(q)("cardStyle",e.target.value)),class:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[16]||(t[16]=[n("option",{value:"default"},"é è¨­",-1),n("option",{value:"compact"},"ç°¡æ½”",-1),n("option",{value:"detailed"},"è©³ç´°",-1)])],40,R)])])]),n("div",L,[t[20]||(t[20]=n("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"è³‡æ–™ç®¡ç†",-1)),n("div",U,[n("div",{class:"flex gap-3"},[n("button",{onClick:$,class:"btn-secondary"}," ğŸ“¤ åŒ¯å‡ºæ‰€æœ‰è³‡æ–™ "),n("button",{onClick:G,class:"btn-secondary"}," ğŸ“¥ åŒ¯å…¥è³‡æ–™ ")]),n("div",_,[t[19]||(t[19]=n("h3",{class:"text-sm font-medium text-gray-900 mb-2"},"é‡è¨­é¸é …",-1)),n("div",E,[n("button",{onClick:K,class:"btn-secondary text-sm"}," é‡è¨­åƒèˆ‡è€… "),n("button",{onClick:M,class:"btn-secondary text-sm"}," é‡è¨­çå“ "),n("button",{onClick:t[6]||(t[6]=(...e)=>d(B)&&d(B)(...e)),class:"btn-secondary text-sm"}," é‡è¨­è¨­å®š "),n("button",{onClick:Q,class:"btn-danger text-sm"}," é‡è¨­æ‰€æœ‰ ")])])])])]),n("input",{ref_key:"fileInput",ref:F,type:"file",accept:".json",onChange:H,class:"hidden"},null,544)])}}});export{N as default};
